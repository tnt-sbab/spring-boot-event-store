{
  "name": "account-events-connector",
  "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
  "key.converter": "org.apache.kafka.connect.storage.StringConverter",
  "value.converter": "org.apache.kafka.connect.converters.ByteArrayConverter",
  "header.converter": "org.apache.kafka.connect.converters.IntegerConverter",
  "tasks.max": "1",
  "topic.prefix": "account-events",
  "connection.attempts": 10,
  "connection.backoff.ms": 30000,
  "connection.url": "{{ oracle_jdbcurl }}",
  "connection.user": "{{ account_datasource_username }}",
  "connection.password": "{{ account_datasource_password }}",
  "table.poll.interval.ms": "360000",
  "poll.interval.ms": "500",
  "schema.pattern": "{{ account_datasource_username }}",
  "db.timezone": "Europe/Stockholm",
  "dialect.name": "OracleDatabaseDialect",
  "mode": "incrementing",
  "numeric.mapping": "best_fit",
  "incrementing.column.name": "ID",
  "validate.non.null": "true",
  "transforms": "createKey, extractString, extractHeader, extractValue",
  "transforms.createKey.type": "org.apache.kafka.connect.transforms.ValueToKey",
  "transforms.createKey.fields": "AGGREGATE_ID",
  "transforms.extractString.type": "org.apache.kafka.connect.transforms.ExtractField$Key",
  "transforms.extractString.field": "AGGREGATE_ID",
  "transforms.extractHeader.type": "org.apache.kafka.connect.transforms.HeaderFrom$Value",
  "transforms.extractHeader.fields": "REVISION",
  "transforms.extractHeader.headers": "revision",
  "transforms.extractHeader.operation": "copy",
  "transforms.extractValue.type": "org.apache.kafka.connect.transforms.ExtractField$Value",
  "transforms.extractValue.field": "PAYLOAD",
  "query": "SELECT ID, REGEXP_REPLACE(LOWER(AGGREGATE_ID), '(.{8})(.{4})(.{4})(.{4})(.{12})', '\\1-\\2-\\3-\\4-\\5') AS AGGREGATE_ID, REVISION, PAYLOAD FROM EVENTS"
}
